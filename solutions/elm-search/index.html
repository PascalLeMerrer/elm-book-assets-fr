<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Elm image search</title>
    <script src="elm.js"></script>
    <link rel="stylesheet" type="text/css" href="http://localhost:9000/css/bulma.min.css" />
</head>
<body>
<app></app>
<script>

    let savedData = localStorage.getItem('favorites');
    let favorites = JSON.parse(savedData);
    let params = {
        node: document.querySelector("app"),
        flags: favorites
    };
    let app = Elm.Main.init(params);

    app.ports.saveFavorites.subscribe((images) => {
        let serializedData = JSON.stringify(images);
        localStorage.setItem('favorites', serializedData);
    })
</script>
</body>
</html>